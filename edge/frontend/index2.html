<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Command Center – Patras HQ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
  <div id="app">
    <header class="topbar">
      <div class="brand">
        <div class="brand-icon"><i class="fa-solid fa-shield-heart"></i></div>
        <div class="brand-text">
          <div class="brand-title">SMART FIRE COMMAND</div>
          <div class="brand-sub">Patras Sector • Team A</div>
        </div>
      </div>

      <div class="top-right">
        <div id="connectionStatus" class="conn">
          <span class="dot"></span>
          <span class="conn-text">MQTT Connecting…</span>
        </div>
        <div id="clock" class="clock">—</div>
      </div>
    </header>

    <main class="content">
      <div class="ops-grid">
        <!-- MAP -->
        <div class="panel map-panel">
          <div class="panel-head">
            <div>
              <div class="ph-title">Sector Map</div>
              <div class="ph-sub">Centered on leader automatically</div>
            </div>
            <div class="actions">
              <button class="btn ghost" id="btnRecenter">
                <i class="fa-solid fa-location-crosshairs"></i> Recenter Leader
              </button>
            </div>
          </div>
          <div id="mainMap" class="map"></div>
        </div>

        <!-- UNIT BOXES -->
        <aside class="units">
          <div class="panel unit-card" id="card-FF_A"></div>
          <div class="panel unit-card" id="card-FF_B"></div>
          <div class="panel unit-card" id="card-FF_C"></div>
          <div class="panel unit-card" id="card-FF_D"></div>
        </aside>

        <!-- ALERTS (full-width bottom) -->
        <div class="panel alerts-panel" id="alertsPanel">
          <div class="alerts-head" id="alertsHead">
            <div class="ah-left">
              <i class="fa-solid fa-triangle-exclamation"></i>
              <span class="ah-title">MISSION ALERTS</span>
              <span class="ah-sub" id="alertsSub">No active alerts</span>
            </div>
            <div class="ah-right">
              <span class="badge ok" id="missionBadge">Nominal</span>
            </div>
          </div>

          <div class="alerts-body" id="alertContent">
            <div class="empty">No active alerts.</div>
          </div>
        </div>
      </div>

      <!-- Toast (for new alerts only) -->
      <div id="toast" class="toast hidden"></div>
    </main>
  </div>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://unpkg.com/mqtt/dist/mqtt.min.js"></script>
  <script src="app.js"></script>
</body>
</html>
